---
layout: post
title:  "sonarqubeå­¦ä¹ æ­å»º"
date:   2022-03-26 10:02
categories: å‰ç«¯å­¦ä¹ 
tags: å‰ç«¯å­¦ä¹ 
---
* content
{:toc}
------

####  sonarqubeå­¦ä¹ æ­å»º[å®˜ç½‘åœ°å€](https://www.sonarqube.org/)

ã€€<font color=FF0000> ç¦æ­¢å°†é¡¹ç›®ä»£ç ä¸Šä¼ è‡³äº‘ç«¯(å®˜ç½‘è‡ªå¸¦çš„æµ‹è¯•)ï¼Œæ‰€æœ‰æµ‹è¯•å‡åœ¨æœ¬åœ°æ­å»ºå†…ç½‘æœ¬åœ°æµ‹è¯•ï¼ˆsonarqubeè¢«æ”»å‡»äº†ï¼‰ </font>

> **SonarQube ç®€ä»‹**
>
> Sonar (SonarQube)æ˜¯ä¸€ä¸ªå¼€æºå¹³å°ï¼Œç”¨äºç®¡ç†æºä»£ç çš„è´¨é‡ã€‚ Sonar ä¸åªæ˜¯ä¸€ä¸ªè´¨é‡æ•°æ®æŠ¥å‘Šå·¥å…·ï¼Œæ›´æ˜¯ä»£ç è´¨é‡ç®¡ç†å¹³å°ã€‚ æ”¯æŒjava, C#, C/C++, PL/SQL, Cobol, JavaScrip, Groovy ç­‰ç­‰äºŒåå‡ ç§ç¼–ç¨‹è¯­è¨€çš„ä»£ç è´¨é‡ç®¡ç†ä¸æ£€æµ‹ã€‚ Sonarå¯ä»¥ä»ä»¥ä¸‹ä¸ƒä¸ªç»´åº¦æ£€æµ‹ä»£ç è´¨é‡ï¼Œè€Œä½œä¸ºå¼€å‘äººå‘˜è‡³å°‘éœ€è¦å¤„ç†å‰5ç§ä»£ç è´¨é‡é—®é¢˜ã€‚
>
> 1ã€ä¸éµå¾ªä»£ç æ ‡å‡†ï¼šsonarå¯ä»¥é€šè¿‡PMD,CheckStyle,Findbugsç­‰ç­‰ä»£ç è§„åˆ™æ£€æµ‹å·¥å…·è§„èŒƒä»£ç ç¼–å†™ã€‚
>
> 2ã€æ½œåœ¨çš„ç¼ºé™·ï¼šsonarå¯ä»¥é€šè¿‡PMD,CheckStyle,Findbugsç­‰ç­‰ä»£ç è§„åˆ™æ£€æµ‹å·¥å…·æ£€ æµ‹å‡ºæ½œåœ¨çš„ç¼ºé™·ã€‚
>
> 3ã€ç³Ÿç³•çš„å¤æ‚åº¦åˆ†å¸ƒï¼šæ–‡ä»¶ã€ç±»ã€æ–¹æ³•ç­‰ï¼Œå¦‚æœå¤æ‚åº¦è¿‡é«˜å°†éš¾ä»¥æ”¹å˜ï¼Œè¿™ä¼šä½¿å¾—å¼€å‘äººå‘˜éš¾ä»¥ç†è§£å®ƒä»¬, ä¸”å¦‚æœæ²¡æœ‰è‡ªåŠ¨åŒ–çš„å•å…ƒæµ‹è¯•ï¼Œå¯¹äºç¨‹åºä¸­çš„ä»»ä½•ç»„ä»¶çš„æ”¹å˜éƒ½å°†å¯èƒ½å¯¼è‡´éœ€è¦å…¨é¢çš„å›å½’æµ‹è¯•ã€‚
>
> 4ã€é‡å¤ï¼šæ˜¾ç„¶ç¨‹åºä¸­åŒ…å«å¤§é‡å¤åˆ¶ç²˜è´´çš„ä»£ç æ˜¯è´¨é‡ä½ä¸‹çš„ï¼Œsonarå¯ä»¥å±•ç¤ºæºç ä¸­é‡å¤ä¸¥é‡çš„åœ°æ–¹ã€‚
>
> 5ã€æ³¨é‡Šä¸è¶³æˆ–è€…è¿‡å¤šï¼šæ²¡æœ‰æ³¨é‡Šå°†ä½¿ä»£ç å¯è¯»æ€§å˜å·®ï¼Œç‰¹åˆ«æ˜¯å½“ä¸å¯é¿å…åœ°å‡ºç°äººå‘˜å˜åŠ¨æ—¶ï¼Œç¨‹åºçš„å¯è¯»æ€§å°†å¤§å¹…ä¸‹é™è€Œè¿‡å¤šçš„æ³¨é‡Šåˆä¼šä½¿å¾—å¼€å‘äººå‘˜å°†ç²¾åŠ›è¿‡å¤šåœ°èŠ±è´¹åœ¨é˜…è¯»æ³¨é‡Šä¸Šï¼Œäº¦è¿èƒŒåˆè¡·ã€‚
>
> 6ã€ç¼ºä¹å•å…ƒæµ‹è¯•ï¼šsonarå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç»Ÿè®¡å¹¶å±•ç¤ºå•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€‚
>
> 7ã€ç³Ÿç³•çš„è®¾è®¡ï¼šé€šè¿‡sonarå¯ä»¥æ‰¾å‡ºå¾ªç¯ï¼Œå±•ç¤ºåŒ…ä¸åŒ…ã€ç±»ä¸ç±»ä¹‹é—´çš„ç›¸äº’ä¾èµ–å…³ç³»ï¼Œå¯ä»¥æ£€æµ‹è‡ªå®šä¹‰çš„æ¶æ„è§„åˆ™ é€šè¿‡sonarå¯ä»¥ç®¡ç†ç¬¬ä¸‰æ–¹çš„jaråŒ…ï¼Œå¯ä»¥åˆ©ç”¨LCOM4æ£€æµ‹å•ä¸ªä»»åŠ¡è§„åˆ™çš„åº”ç”¨æƒ…å†µï¼Œ æ£€æµ‹è€¦åˆã€‚

##### 1ã€å®˜ç½‘ä¸‹è½½sonarqube,éšä¾¿è§£å‹åˆ°æ–‡ä»¶å¤¹

> ç›®å½•ç»“æ„ :
>
> bin** æ­¤ç›®å½•æ”¾ç½®å„æ“ä½œç³»ç»Ÿï¼ˆLInuxã€Windowsã€MacOSï¼‰ç”¨äºå¯åŠ¨ SonarQube æœåŠ¡çš„å·¥å…·ã€è„šæœ¬ï¼›
>
> **conf** æ­¤ç›®å½•å­˜æ”¾SonarQubeç›¸å…³é…ç½®æ–‡ä»¶ï¼›
>
> **data** æ­¤ç›®å½•åŒ…å«åµŒå…¥å¼æ•°æ®åº“(H2æ•°æ®åº“å¼•æ“)çš„æ•°æ®ï¼Œå»ºè®®åªç”¨äºæµ‹è¯•å’Œæ¼”ç¤ºï¼›
>
> **elasticsearch** æ­¤ç›®å½•æ”¾ç½®elasticsearchæ£€ç´¢å¼•æ“ç›¸å…³å†…å®¹ï¼›
>
> **extensions** æ­¤ç›®å½•å­˜æ”¾SonarQubeçš„æ’ä»¶ã€ æ‰©å±•jar åŒ…ï¼›
>
> **lib** æ­¤ç›®å½•å­˜æ”¾SonarQubeæ‰€ä¾èµ–çš„ jar åŒ…ï¼›
>
> **logs** æ­¤ç›®å½•å­˜æ”¾SonarQubeç›¸å…³æ—¥å¿—ä¿¡æ¯ï¼›
>
> **tmp**æ­¤ç›®å½•åŒ…å«æœåŠ¡å™¨æ‰€éœ€çš„ä¸´æ—¶æ•°æ®ï¼ŒæœåŠ¡å™¨å¯åŠ¨æ—¶ä¸è¦æ¸…ç†ï¼›
>
> **web** æ­¤ç›®å½•å­˜æ”¾ SonarQube web æœåŠ¡çš„é™æ€èµ„æºã€‚

##### 2ã€å‡†å¤‡javaç¯å¢ƒ-----å®‰è£…jdk,é…ç½®ç¯å¢ƒå˜é‡

> æœ€æ–°çš„sonarqubeå¿…é¡»è¦ [java jdk 11](https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html);

##### 3ã€æµ‹è¯•å¯åŠ¨(windowä¸ºä¾‹)

> è®¿é—®åœ°å€é»˜è®¤ : `http://localhost:9000/`,
>
> å¦‚éœ€è¦æ›´æ”¹æˆ–è€…ç«¯å£å†²çªå¯è¿›å…¥`sonarqube\conf\sonar.properties`å¯¹`sonar.host.url`è¿›è¡Œæ›´æ”¹
>
> å¯åŠ¨æœåŠ¡ : `sonarqube\bin\windows-x86-64\StartSonar.bat`;**åŒå‡»**

**æµç¨‹å›¾(typoraå¯ä»¥å±•ç¤º)ğŸŒˆ

```flow
	å¼€å§‹=>start: å¼€å§‹     
    ç»“æŸ=>end: ç»“æŸ 
    ä¸‹è½½=>operation: ä¸‹è½½sonarqube
    è§£å‹=>operation: è§£å‹åˆ°éä¸­æ–‡æ–‡ä»¶å¤¹å†…
    jdk=>condition: æ˜¯å¦å®‰è£…java jdk 11ï¼Ÿ
    ä¸‹è½½jdk=>inputoutput: ä¸‹è½½jdk 11
    å®‰è£…jdk=>operation: å®‰è£…jdk 11 å¹¶é…ç½®
    å¯åŠ¨=>operation: å¯åŠ¨sonarqube

å¼€å§‹->ä¸‹è½½->è§£å‹->jdk(yes)->å¯åŠ¨->ç»“æŸ
jdk(no)->ä¸‹è½½jdk->å®‰è£…jdk->å¯åŠ¨
```

##### 4ã€å¯åŠ¨æŠ¥é”™

> é‡åˆ°ä¸€ä¸ª : 
>
> jvm å¯åŠ¨å¤±è´¥
>
> å¿…é¡»å®‰è£… jdk 11 ----------------------------------------------------------------------
>
> æœ‰é—®é¢˜,å¸è½½äº†é‡æ–°å®‰è£…

##### 5ã€ä½¿ç”¨

![61bfe986f3b3560001bb1481.png](https://github.com/Quietly-20201113/PictureSpace/blob/main/sonarqube/61bfe986f3b3560001bb1481.png?raw=true)


![61bfea8dfafd5900011f8e30.png](https://github.com/Quietly-20201113/PictureSpace/blob/main/sonarqube/61bfea8dfafd5900011f8e30.png?raw=true)


![61bfea9174c73a0001ed9b2b.png](https://github.com/Quietly-20201113/PictureSpace/blob/main/sonarqube/61bfea9174c73a0001ed9b2b.png?raw=true)

****

##### 6ã€æ‰§è¡Œ

> åªéœ€è¦åˆ°é¡¹ç›®æ–‡ä»¶åŠ ä¸‹ä¾æ¬¡æ‰§è¡Œ`Execute the Scanner`ä¸‹çš„å‘½ä»¤å³å¯

****

##### 7ã€ä½¿ç”¨æ•ˆæœ

![61bfeb23de155200018bb364.png](https://github.com/Quietly-20201113/PictureSpace/blob/main/sonarqube/61bfeb23de155200018bb364.png?raw=true)